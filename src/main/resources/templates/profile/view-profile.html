<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Profile</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .profile-container { width: 50%; margin: auto; text-align: center; }
        img { border-radius: 50%; width: 150px; height: 150px; }
        form { margin-top: 20px; }
    </style>
</head>
<body>
    <div class="profile-container">
        <h2>User Profile</h2>

        <!-- Display Profile Picture -->
        <img th:src="${user.profilePicture}" alt="Profile Picture">

        <!-- Display User Details -->
        <p><strong>Name:</strong> <span th:text="${user.name}"></span></p>
        <p><strong>Email:</strong> <span th:text="${user.email}"></span></p>
        <p><strong>Contact:</strong> <span th:text="${user.contactNumber}"></span></p>
        <p><strong>Address:</strong> <span th:text="${user.address}"></span></p>
        <p><strong>Role:</strong> <span th:text="${user.role}"></span></p>
        <p><strong>Average Rating:</strong> <span th:text="${averageRating}"></span> ‚≠ê</p>

        <h3>Update Profile</h3>
        <form th:action="@{/profile/update}" method="post" enctype="multipart/form-data">
            <input type="hidden" th:field="*{id}">
            
            <label>Name:</label>
            <input type="text" th:field="*{name}" required>

            <label>Contact Number:</label>
            <input type="text" th:field="*{contactNumber}" required>

            <label>Address:</label>
            <input type="text" th:field="*{address}" required>

            <label>Profile Picture:</label>
            <input type="file" name="profilePicture">
            
            <button type="submit">Update</button>
        </form>
    </div>
</body>
</html>
