<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Your Bookings</title>
</head>
<body>
	<h2>Your Bookings</h2>

	<table border="1">
		<tr>
			<th>Requester</th>
			<th>Start Time</th>
			<th>End Time</th>
			<th>Status</th>
			<th>Action</th>
		</tr>
		<tr th:each="booking : ${bookings}">
			<td
				th:text="${booking.requester != null ? booking.requester.name : 'N/A'}"></td>
			<td
				th:text="${booking.startTime != null ? #temporals.format(booking.startTime, 'yyyy-MM-dd HH:mm') : 'N/A'}"></td>
			<td
				th:text="${booking.endTime != null ? #temporals.format(booking.endTime, 'yyyy-MM-dd HH:mm') : 'N/A'}"></td>
			<td th:text="${booking.status != null ? booking.status : 'N/A'}"></td>
			<td>
				<form th:action="@{/bookings/update-status}" method="post">
					<input type="hidden" name="bookingId" th:value="${booking.id}" />
					<select name="status">
						<option th:selected="${booking.status == 'PENDING'}"
							value="PENDING">Pending</option>
						<option th:selected="${booking.status == 'ACCEPTED'}"
							value="ACCEPTED">Accepted</option>
						<option th:selected="${booking.status == 'IN_PROGRESS'}"
							value="IN_PROGRESS">In Progress</option>
						<option th:selected="${booking.status == 'COMPLETED'}"
							value="COMPLETED">Completed</option>
					</select>
					<button type="submit">Update</button>
				</form>
			</td>
		</tr>
	</table>

	<p th:if="${#lists.isEmpty(bookings)}">No bookings available.</p>
</body>
</html>
